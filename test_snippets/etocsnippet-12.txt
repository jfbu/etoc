%% -*- mode: latex -*-
%% LaTeX2e file `etocsnippet-12.tex'
%% generated by the `filecontentsdef' environment
%% from source `etoc' on 2024/01/12.
%% EDITED: - configure chapter lines, not part lines
%%         - manually mute tagging for footnotes
\begingroup
\newsavebox{\forsubsections}
%%%%%%%%>>>>
%%%%%%%%\etocsetlinestyle{part}
\etocsetlinestyle{chapter}
%%%%%%%%<<<<
                   {\upshape. \etocskipfirstprefix}
                   {. \upshape}
                   {\bfseries\etocname:~~}
                   {}
\etocsetlinestyle{section}
                      {\itshape\etocskipfirstprefix}
                      {, }
                      {\mdseries\etocname}
                      {}
\etocsetlinestyle{subsection}
    {\begin{lrbox}{\forsubsections}\footnotesize\upshape\etocskipfirstprefix}
    {; }
    {\etocname}
    {.\end{lrbox}\footnote{\unhbox\forsubsections}}
\etocsetlinestyle{subsubsection}
    { (\itshape\etocskipfirstprefix}
    {, }
    {\etocname}
    {\/\upshape)}
% mpfff
\ExplSyntaxOn
\let\aliceandbob\tag_if_active:TF
\ExplSyntaxOff
\etocsettocstyle{Here is the rather crazy inline table of contents, with both
  subsections and subsubsections listed in footnotes.  We had to mute the
tagging hooks from \string\footnote, and, a bit to our surprise, this was
enough to let warnings from latex-lab go away AND the PDF looks OK in
\url{https://ngpdf.com} editor, Hurray!% 
%%%%%%%%>>>> #19
\IfDocumentMetadataTF{\aliceandbob{%
\AssignSocketPlug{tagsupport/fnmark}{identity}%
\AssignSocketPlug{tagsupport/fntext/begin}{noop}%
\AssignSocketPlug{tagsupport/fntext/end}{noop}%
\AssignSocketPlug{tagsupport/fntext/text}{identity}%
\AssignSocketPlug{tagsupport/fntext/mark}{identity}%
}{}}{}%
%%%%%%%%<<<<
                }{.\par}
\tableofcontents \label{toc:crazyinline}
\endgroup
